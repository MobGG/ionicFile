{"version":3,"sources":["../../src/pages/printer/printer.module.ts","../../src/pages/printer/printer.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PrinterPage } from './printer';\n\n@NgModule({\n  declarations: [\n    PrinterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PrinterPage),\n  ],\n})\nexport class PrinterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/printer/printer.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController } from 'ionic-angular';\nimport { FilesProvider } from '../../providers/files/files';\n\ndeclare var BTPrinter: any;\n\n@IonicPage()\n@Component({\n\tselector: 'page-printer',\n\ttemplateUrl: 'printer.html',\n})\nexport class PrinterPage {\n\tprinterList: any[] = [];\n\n\tconstructor(\n\t\tprivate navCtrl: NavController,\n\t\tprivate file: FilesProvider,\n\t\tprivate loadingCtrl: LoadingController\n\t) {\n\t}\n\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad PrinterPage');\n\t\t// \"1101001000010011100110110011100101100011101011\" 1\n\t\t// \"1101001110011000100100100110111001100011101011\" 11\n\t\t// \"1101001000010011100110110011100101100011101011\" 1\n\t\t// \"1101001000011001110010110010111001100011101011\" 2\n\t}\n\n\tlistPrinter() {\n\t\t// DatecsPrinter.listBluetoothDevices(devices => {\n\t\tBTPrinter.list(devices => {\n\t\t\tconsole.log('list devices');\n\t\t\tconsole.log('devices', devices);\n\t\t\tthis.printerList = devices;\n\t\t}, error => {\n\t\t\tconsole.error('error', error);\n\t\t});\n\t}\n\n\tconnectPrinter(printerName) {\n\t\tlet loader = this.loadingCtrl.create({\n\t\t\tcontent: \"Please wait...\"\n\t\t});\n\t\tloader.present();\n\t\tBTPrinter.connect(\n\t\t\tsuccess => {\n\t\t\t\tconsole.log('connect');\n\t\t\t\tconsole.log('success', success);\n\t\t\t\tloader.dismiss();\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.error('error', error);\n\t\t\t\tloader.dismiss();\n\t\t\t\talert('error');\n\t\t\t},\n\t\t\tprinterName\n\t\t);\n\t}\n\n\tdisconnectPrinter() {\n\t\tBTPrinter.disconnect(\n\t\t\tsuccess => {\n\t\t\t\tconsole.log('discconect');\n\t\t\t\tconsole.log('success', success);\n\t\t\t}, error => {\n\t\t\t\tconsole.error('error', error);\n\t\t\t}\n\t\t);\n\t}\n\n\tprintA() {\n\t\tlet mockOrderData = this.file.mockOrderData();\n\t\tlet text: string = '';\n\t\ttext += this.file.printBill3A(mockOrderData);\n\t\t// call files and write text file\n\t}\n\n\tprintB() {\n\t\tlet mockOrderData = this.file.mockOrderData();\n\t\tlet text: string = '';\n\t\ttext += this.file.printBill3B(mockOrderData);\n\t}\n\n\tprintC() {\n\t\tlet mockOrderData = this.file.mockOrderData();\n\t\tlet text: string = '';\n\t\ttext += this.file.printBill3C(mockOrderData);\n\t}\n\n\tprintD() {\n\t\tlet mockOrderData = this.file.mockOrderData();\n\t\tlet text: string = '';\n\t\ttext += this.file.printBill3D(mockOrderData);\n\t}\n\n\tprintE() {\n\t\tlet mockOrderData = this.file.mockOrderData();\n\t\tlet text: string = '';\n\t\ttext += this.file.printBill3E(mockOrderData);\n\t}\n\n\t// WIP modify PrintText possible print Thai Lang from string text\n\tprintText() {\n\t\tlet textEng: string = 'Test\\nEnglish\\n';\n\t\tlet textTh: string = 'ทดสอบภาษาไทย';\n\n\t\tBTPrinter.printText(\n\t\t\tsuccess => {\n\t\t\t\tconsole.log('printText');\n\t\t\t\tconsole.log('success', success);\n\t\t\t}, error => {\n\t\t\t\tconsole.error('error', error);\n\t\t\t}, textTh);\n\t}\n\n\tprintF51() {\n\t\tlet doc: string;\n\t\tdoc = this.file.genStockDoc(null, '51');\n\t\tthis.download(doc, 'F51.txt', 'text/plain');\n\t\tdoc = this.file.genStockDoc('C', '51');\n\t\tthis.download(doc, 'F51C.txt', 'text/plain');\n\t}\n\n\tprintF52() {\n\t\tlet doc: string;\n\t\tdoc = this.file.genStockDoc(null, '52');\n\t\tthis.download(doc, 'F52.txt', 'text/plain');\n\t\tdoc = this.file.genStockDoc('C', '52');\n\t\tthis.download(doc, 'F52C.txt', 'text/plain');\n\t}\n\n\tprintStockSummary() {\n\t\tlet doc: string;\n\t\tdoc = this.file.genStockSummaryDoc();\n\t\tthis.download(doc, 'StockSummary.txt', 'text/plain');\n\t}\n\n\t// for test gen form delete after finish dev\n\tdownload(data, filename, type) {\n\t\tlet file = new Blob([data], { type: type });\n\t\tif (window.navigator.msSaveOrOpenBlob) // IE10+\n\t\t\twindow.navigator.msSaveOrOpenBlob(file, filename);\n\t\telse { // Others\n\t\t\tlet a = document.createElement(\"a\"),\n\t\t\t\turl = URL.createObjectURL(file);\n\t\t\ta.href = url;\n\t\t\ta.download = filename;\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.click();\n\t\t\tsetTimeout(() => {\n\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\tcreateFileBarcode() {\n\t\tlet barcodeData: string = '';\n\t\t// print printer setting\n\t\t// barcodeData += \"SELFTEST\\n\";\n\n\t\t// full text example\n\t\t// barcodeData += \"! 0 200 200 210 1\\n\";\n\t\t// barcodeData += 'BARCODE 128 1 1 50 150 10 test1\\n';\n\t\t// barcodeData += 'TEXT 7 0 210 60 test1\\n';\n\t\t// barcodeData += 'VBARCODE 128 1 1 50 10 200 TEST1\\n';\n\t\t// barcodeData += 'VTEXT 7 0 60 140 TEST1\\n';\n\t\t// // barcodeData += 'FORM\\n'; // ไม่ใส่ก็ได้\n\t\t// barcodeData += 'PRINT\\n';\n\n\t\tbarcodeData += \"! 0 200 200 210 1\\n\";\n\t\tbarcodeData += 'B 128 1 1 50 150 10 test1\\n';\n\t\tbarcodeData += 'T 7 0 210 60 test1\\n';\n\t\tbarcodeData += 'VB 128 1 1 50 10 200 TEST1\\n';\n\t\tbarcodeData += 'VT 7 0 60 140 TEST1\\n';\n\t\tbarcodeData += 'PRINT\\n';\n\n\t\tthis.file.writeFile(barcodeData);\n\t}\n\n\tcreateQRcode() {\n\t\tlet qrcodeData: string = '';\n\n\t\tqrcodeData += '! 0 200 200 600 1\\n';\n\t\t// qrcodeData += 'B QR 10 100 M 2 U 10\\n';\n\t\tqrcodeData += 'B QR 10 100 M 2 U 12\\n';\n\t\t// qrcodeData += 'MA,https://www.youtube.com/\\n';\n\t\tqrcodeData += 'MA,00020101021129370016A000000677010111011300668641397555802TH540312353037646304C8E0\\n';\n\t\t// qrcodeData += 'MM,AAC-42\\n';\n\t\tqrcodeData += 'ENDQR\\n';\n\t\t// qrcodeData += 'T 4 0 10 400 https://www.youtube.com/\\n';\n\t\tqrcodeData += 'T 4 0 10 400 00020101021129370016A000000677010111011300668641397555802TH540312353037646304C8E0\\n';\n\t\t\n\t\t// qrcodeData += 'FORM\\n';\n\t\tqrcodeData += 'PRINT\\n';\n\n\t\tthis.file.writeFile(qrcodeData);\n\t}\n\n\tprintFile() {\n\t\tlet pathFile = '/storage/emulated/0/spc.dat';\n\t\t// BTPrinter.printText(\n\t\tBTPrinter.printFile(\n\t\t\tsuccess => {\n\t\t\t\tconsole.log('printFile');\n\t\t\t\tconsole.log('success', success);\n\t\t\t}, error => {\n\t\t\t\tconsole.error('error', error);\n\t\t\t}, pathFile);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/printer/printer.ts"],"sourceRoot":""}